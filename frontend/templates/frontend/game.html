{% extends 'index.html' %}

{% block title %}Jogo - Quem Sou Eu?{% endblock %}

{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/game.css' %}">
{% endblock %}

{% block content %}
<div class="main-container">
    <div class="header">
        <h1>Quem Sou Eu?</h1>
        <div class="auth-links">
            <span id="username-display"></span>
            <a href="{% url 'login' %}" id="login-link" style="display: none;"><i class="fas fa-sign-in-alt mr-1"></i>Entrar</a>
            <a href="{% url 'signup' %}" id="signup-link" style="display: none;"><i class="fas fa-user-plus mr-1"></i>Registrar</a>
            <a href="#" id="logout-link" style="display: none;"><i class="fas fa-sign-out-alt mr-1"></i>Sair</a>
        </div>
    </div>
    <div class="chat-container">
        <div class="game-controls">
            <select id="theme-select" class="rounded-lg">
                <option value="Filmes">Filmes</option>
                <option value="Series">Séries</option>
                <option value="Historia">História</option>
                <option value="Politica">Política</option>
                <option value="Literatura">Literatura</option>
                <option value="Ciencia">Ciência</option>
                <option value="Esportes">Esportes</option>
                <option value="Musica">Música</option>
                <option value="Jogos">Jogos</option>
                <option value="Personalidades">Personalidades</option>
                <option value="Mitologia">Mitologia</option>
                <option value="Personagens de Desenho Animado">Desenho Animado</option>
            </select>
            <select id="level-select" class="rounded-lg">
                <option value="Facil">Fácil</option>
                <option value="Medio">Médio</option>
                <option value="Dificil">Difícil</option>
                <option value="Aleatorio">Aleatório</option>
            </select>
            <button id="start-game-button" class="rounded-lg"><i class="fas fa-play mr-1"></i>Iniciar Novo Jogo</button>
            <div id="score-display" class="score-display"><i class="fas fa-star mr-1"></i>Pontuação: 0</div>
            <div id="attempts-display" class="score-display ml-4"><i class="fas fa-hourglass-half mr-1"></i>Tentativas: 0</div> <!-- NOVO: Display de tentativas -->
        </div>
        <!-- NOVA BARRA DE STATUS PARA MENSAGENS DO SISTEMA -->
        <div id="status-bar" class="status-bar"></div>
        <div id="chat-messages" class="chat-messages">
            <!-- As mensagens do chat aparecerão aqui -->
        </div>
        <div class="chat-input-area">
            <input type="text" id="chat-input" class="chat-input" placeholder="Digite sua pergunta ou adivinhação...">
            <button id="send-button" class="send-button"><i class="fas fa-paper-plane mr-1"></i>Enviar</button>
        </div>
    </div>
</div>

<!-- Modal para exibir o personagem e a pontuação final -->
<div id="gameOverModal" class="modal">
    <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2 class="text-2xl font-bold mb-4">Fim de Jogo!</h2>
        <p id="modal-message" class="text-lg mb-2"></p>
        <p class="text-xl font-semibold mb-4">Sua Pontuação: <span id="final-score">0</span></p>
        <h3 class="text-xl font-bold mb-2">O personagem era: <span id="revealed-character"></span></h3>
        <img id="character-image" src="" alt="Personagem" class="character-image hidden">
        <button id="play-again-button" class="send-button mt-4"><i class="fas fa-redo mr-1"></i>Jogar Novamente</button>
    </div>
</div>
{% endblock %}

{% block extra_js %}
    <script src="{% static 'js/game.js' %}"></script>
{% endblock %}
